<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Promo - Civic Events</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="bg-gray-100">

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-3xl font-extrabold text-gray-900 mb-6">Create New Promo Video</h1>
        <div class="bg-white p-8 rounded-lg shadow-xl">
            
            <form id="promo-form" class="space-y-6">
                <div>
                    <label for="promo-title-input" class="block text-sm font-medium text-gray-700">Video Title</label>
                    <input type="text" id="promo-title-input" required class="mt-1 block w-full p-3 border rounded-md">
                </div>
                <div>
                    <label for="promo-description-input" class="block text-sm font-medium text-gray-700">Short Description</label>
                    <textarea id="promo-description-input" rows="3" required class="mt-1 block w-full p-3 border rounded-md"></textarea>
                </div>

                <div class="border-t pt-4">
                    <label for="video-upload" class="block text-sm font-medium text-gray-700 mb-2">Video File (.mp4 / key: 'video')</label>
                    <input type="file" id="video-upload" accept="video/*" required class="mt-1 block w-full text-sm text-gray-500">
                </div>
                
                <div>
                    <label for="caption-text" class="block text-sm font-medium text-gray-700">Caption Text (Optional - Backend will generate VTT)</label>
                    <textarea id="caption-text" rows="5" placeholder="Enter transcript text here. Ensure clear timestamps if possible, or the backend will process." class="mt-1 block w-full p-3 border rounded-md"></textarea>
                </div>

                <div class="flex items-center border-t pt-4">
                    <input type="checkbox" id="promo-published" class="h-4 w-4 text-blue-600 border-gray-300 rounded">
                    <label for="promo-published" class="ml-2 block text-sm font-medium text-gray-700">Publish Promo Now</label>
                </div>

                <div class="flex justify-end pt-4 border-t">
                    <button type="submit" id="promo-submit-btn" class="bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg hover:bg-green-700 transition font-semibold">
                        <i class="fas fa-upload mr-2"></i> Upload & Publish
                    </button>
                </div>
                <div id="upload-progress" class="w-full h-2 bg-gray-200 rounded hidden">
                    <div id="progress-bar" class="h-2 bg-blue-600 rounded" style="width: 0%"></div>
                </div>
            </form>

        </div>
    </main>
    
    <script src="assets/js/api.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/ui.js"></script>
    <script src="assets/pages/promo-create-edit.js"></script>

    <script>
        $(document).ready(function() {
            Auth.requireAdmin(); 
            UI.initNav();
            // Note: We don't have separate logic for Edit yet, only Create.
        });
    </script>
</body>
</html>